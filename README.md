LAPPS Exchange Data Structures (LEDS).
======================================

The LAPPS Exchange Data Structures are a small set of Java classes (Groovy classes 
actually) that provide the data model for the JSON-LD data exchanged by services on the
LAPPS grid.

## Maven

Functionality of this package is contained in 
Java package `com.fasterxml.jackson.core`.

To use the package, you need to use following Maven dependency:

```xml
<dependency>
  <groupId>org.anc.lapps</groupId>
  <artifactId>serialization</artifactId>
  <version>0.12.0</version>
</dependency>
```

## Using
There are three main classes that make up LEDS:

1. **Annotation** Used to store information about a single annotation
```groovy
class Annotation {
       String type
       Long start
       Long end
       Map features
       Map metadata
}
```

2. **ProcessingStep** Used to store the list of annotations generated by a single processing service.
```groovy
class ProcessingStep {
      List<Annotation> annotations
      Map metadata
}
```

3. **Container** Used to store the original data (text, audio, etc) plus all annotations produces by all
processing services.
```groovy
class Container {
        String text
        String language
        List<ProcessingStep> steps
        Map metadata
}
```


## Examples


### Java

```java
Annotation a = new Annotation();
a.setType("token");
a.setStart(0);
a.setEnd(5);
a.getFeatures().put("pos", "UH")

ProcessingStep step = new ProcessingStep();
step.getMetadata().put("pass", "1");
step.getAnnotation().add(a);

Container container = new Container();
container.setText("Hello world");
container.setLanguage("en");
container.getSteps().add(step);

String json = container.toJson()

...

Container container = new Container(json)
```

### Groovy
```groovy
Annotation a = new Annotation(type:'token', start:0, end:5)
a.features['pos'] = 'UH'

ProcessingStep step = new ProcessingStep()
step.metadata['pass'] = 1
step.annotations.add(a)

Container container = new Container(text:'Hello world')
container.steps.add(step)

String json = container.toJson()

...

Container container = new Container(json)
```
